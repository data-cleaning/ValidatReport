!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(t,r,n){function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var l,a=e[Symbol.iterator]();!(n=(l=a.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l,a,s,c,u,d,f,p,v,h=n(1),y={},b=d3.scaleOrdinal().domain(["0","1","NA"]).range(["#FC8D59","#91CF60","#FFFFBF"]),g=d3.scaleOrdinal().domain([1,10]).range([.4,1]),m=d3.scaleOrdinal().domain([1,10]).range([.4,1]),w=d3.scaleOrdinal().domain([1,10]).range([.4,1]),C=!0,O=new Map,x=function(){function t(e){var r=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=h(y,e),"container"in this.options!=0)if("data"in this.options!=0)if("report"in this.options!=0)if("idcol"in this.options!=0){if(!d3.select(this.options.container).empty()){dc.config.defaultColors(d3.schemeAccent);var n=d3.select(this.options.container).append("div").classed("row",!0),o=n.append("div").classed("col-4",!0),i=n.append("div").classed("col-8",!0);o.append("div").classed("row",!0).append("div").classed("col",!0).attr("id","divEventCount").append("span").classed("filter-count",!0).text("selected out of <span class='total-count'></span> records.");S(o,"divChartValue","Results"),S(o,"divChartSeverity","Severity"),S(o,"divChartRule","Rules");for(var g,m=[],w=Object.keys(this.options.data[0]),x=0;x<w.length;x++)col=w[x],m.push({data:(g=col,g.replace(/\./g,"\\.")),name:col,title:col});return i.append("table").attr("id","tableData").classed("compact",!0).classed("cell-border",!0),(v=$("#tableData").DataTable({data:this.options.data,columns:m,searching:!1,scrollY:"600px",scrollCollapse:!0,paging:!1,rowId:this.options.idcol,info:!1,select:{style:"single",items:"cell",info:!1},dom:"Bfrtip",stateSave:!0,buttons:[{extend:"collection",autoClose:!0,text:"Row visibility",buttons:[{text:"All rows",action:function(e,t,n,o){C=!0,r._updateTable()}},{text:"Colored rows",action:function(e,t,n,o){C=!1,r._updateTable()}}]},"colvis"]})).on("mouseenter","tbody td",function(){0==$(this).hasClass("selected")&&($(this).css("padding",3),$(this).css("border","1px solid #888"))}),v.on("mouseleave","tbody td",function(){0==$(this).hasClass("selected")&&A($(this))}),v.on("select",function(e,t,r,n){var o=v.cell(n);$(o.node()).css("padding",1),$(o.node()).css("border","3px dashed black");var i=[];if(o.node().cellId){var l=O.get(o.node().cellId).events,a=!0,s=!1,c=void 0;try{for(var u,d=l[Symbol.iterator]();!(a=(u=d.next()).done);a=!0){var f=u.value;i.push(f.id)}}catch(e){s=!0,c=e}finally{try{a||null==d.return||d.return()}finally{if(s)throw c}}}idDim.filterFunction(function(e){return-1!=i.indexOf(e)})}),v.on("deselect",function(e,t,r,n){var o=v.cell(n);A($(o.node())),idDim.filterFunction(function(e){return!0})}),this.eventCount=dc.dataCount("#divEventCount"),this.chartValue=dc.rowChart("#divChartValue"),this.chartSeverity=dc.rowChart("#divChartSeverity"),this.chartRule=dc.rowChart("#divChartRule"),d3.select("#divChartValue a").on("click",function(){return r.chartValue.filter(null).redrawGroup()}),d3.select("#divChartSeverity a").on("click",function(){return r.chartSeverity.filter(null).redrawGroup()}),d3.select("#divChartRule a").on("click",function(){return r.chartRule.filter(null).redrawGroup()}),p=crossfilter(this.options.report),idDim=p.dimension(function(e){return e.id}),l=p.dimension(function(e){return e.value}),a=p.dimension(function(e){return e.rule.severity}),s=p.dimension(function(e){return e.event.agent}),d=p.dimension(function(e){return e.event.actor}),ruleDim=p.dimension(function(e){return"id"in e.rule?e.rule.id:r._expressionShort(e.rule.source)}),c=l.group().reduceCount(),u=a.group().reduceCount(),agentCount=s.group().reduceCount(),d.group().reduceCount(),ruleCount=ruleDim.group().reduceCount(),f=p.groupAll(),window.resetAll=function(){dc.filterAll(),dc.renderAll(),v.cells({selected:!0}).deselect()},this.eventCount.dimension(p).group(f).html({some:"<strong>%filter-count</strong> out of <strong>%total-count</strong> selected | <a href='javascript:resetAll();'>Reset All</a>",all:"<strong>%filter-count</strong> out of <strong>%total-count</strong> selected"}),this.chartValue.width(200).height(120).dimension(l).group(c).controlsUseVisibility(!0).elasticX(!0).label(function(e){return 0==e.key?"fails":1==e.key?"passes":"NA"}).title(function(e){return 0==e.key?"fails: "+e.value:1==e.key?"passes: "+e.value:"NA: "+e.value}).colors(function(e){return b(e)}).margins({top:0,right:10,bottom:30,left:5}),this.chartSeverity.width(200).height(120).dimension(a).group(u).controlsUseVisibility(!0).elasticX(!0).ordinalColors(["#3182bd"]).label(function(e){if(r.chartSeverity.hasFilter()&&!r.chartSeverity.hasFilter(e.key))return e.key+" (0%)";var t=e.key;return f.value()&&(t+=" ("+Math.floor(e.value/f.value()*100)+"%)"),t}).legend(dc.legend()).margins({top:0,right:10,bottom:30,left:5}),this.chartRule.width(400).height(450).dimension(ruleDim).group(ruleCount).controlsUseVisibility(!0).ordinalColors(["#3182bd"]).elasticX(!0).ordering(function(e){return e.key}).margins({top:0,right:50,bottom:30,left:5}),dc.renderAll(),p.onChange(function(e){"filtered"==e&&(r._updateTable(),dc.redrawAll())}),this._updateTable(),this}console.log("container not found")}else console.log("idcol not set");else console.log("report not set");else console.log("data not set");else console.log("container not set");function S(e,t,r){var n=e.append("div").attr("id",t).append("div");return n.append("strong").classed("selectorHeader",!0).text(r),n.append("a").classed("reset",!0).style("visibility","hidden").style("margin-left","5px").attr("href","#").text("reset"),n}function A(e){e.css("padding",4),e.css("border-top","1px solid #ddd"),e.css("border-right","1px solid #ddd"),e.css("border-bottom",""),e.css("border-left","")}}var r,n,x;return r=t,(n=[{key:"_expressionShort",value:function(e){return e.substr(0,160)}},{key:"_updateTable",value:function(){var e=this._setBackgroundColors();this._updateRowVisibility(e)}},{key:"_setBackgroundColors",value:function(){var t=new Set;$(v.cells().nodes()).css("background-color",""),O.clear();var r=new Map([["0",0],["1",0],["NA",0]]),n=!0,i=!1,l=void 0;try{for(var a,s=p.allFiltered()[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value,u=!0,d=!1,f=void 0;try{for(var h,y=c.data.target[Symbol.iterator]();!(u=(h=y.next()).done);u=!0){var C=h.value,x=C[2]+C[3],S=O.get(x);S||(O.set(x,{row:C[2],col:C[3],cnts:new Map([["0",0],["1",0],["NA",0]]),events:[]}),S=O.get(x)),S.cnts.set(c.value,S.cnts.get(c.value)+1),S.events.push(c),S.cnts.get(c.value)>r.get(c.value)&&r.set(c.value,S.cnts.get(c.value))}}catch(e){d=!0,f=e}finally{try{u||null==y.return||y.return()}finally{if(d)throw f}}}}catch(e){i=!0,l=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw l}}g.domain([1,r.get("1")]),m.domain([1,r.get("0")]),w.domain([1,r.get("NA")]);var A=!0,j=!1,k=void 0;try{for(var _,P=O[Symbol.iterator]();!(A=(_=P.next()).done);A=!0){var F=o(_.value,2),R=F[0],D=F[1],T="#"+D.row,V=D.col+":name",E=v.cell(T,V);E.node()&&(E.node().cellId=R),t.add(T);var M=!1,N=!1,I=!0,B=!1,G=void 0;try{for(var U,X=D.events[Symbol.iterator]();!(I=(U=X.next()).done);I=!0){if(e=U.value,"0"==e.value){M=!0;break}"NA"==e.value&&(N=!0)}}catch(e){B=!0,G=e}finally{try{I||null==X.return||X.return()}finally{if(B)throw G}}var H=M?"0":N?"NA":"1",Y=d3.color(b(H));"0"==H&&(Y.opacity=m(D.cnts.get(H))),$(E.node()).css("background-color",Y.toString())}}catch(e){j=!0,k=e}finally{try{A||null==P.return||P.return()}finally{if(j)throw k}}return t}},{key:"_updateRowVisibility",value:function(e){if(C)$(v.rows().nodes()).css("display","table-row");else{$(v.rows().nodes()).css("display","none");var t=!0,r=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var l=o.value;$(v.row(l).node()).css("display","table-row")}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}}}])&&i(r.prototype,n),x&&i(r,x),t}();window.validationDashboard=x},function(e,t,r){"use strict";const n=r(2),o=Object.prototype.hasOwnProperty,i=Object.propertyIsEnumerable,l=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0}),a=this,s={concatArrays:!1},c=e=>{const t=[];for(const r in e)o.call(e,r)&&t.push(r);if(Object.getOwnPropertySymbols){const r=Object.getOwnPropertySymbols(e);for(let n=0;n<r.length;n++)i.call(e,r[n])&&t.push(r[n])}return t};function u(e){return Array.isArray(e)?function(e){const t=e.slice(0,0);return c(e).forEach(r=>{l(t,r,u(e[r]))}),t}(e):n(e)?function(e){const t=null===Object.getPrototypeOf(e)?Object.create(null):{};return c(e).forEach(r=>{l(t,r,u(e[r]))}),t}(e):e}const d=(e,t,r,n)=>(r.forEach(r=>{r in e&&e[r]!==Object.getPrototypeOf(e)?l(e,r,p(e[r],t[r],n)):l(e,r,u(t[r]))}),e),f=(e,t,r)=>{let n=e.slice(0,0),i=0;return[e,t].forEach(t=>{const a=[];for(let r=0;r<t.length;r++)o.call(t,r)&&(a.push(String(r)),l(n,i++,t===e?t[r]:u(t[r])));n=d(n,t,c(t).filter(e=>-1===a.indexOf(e)),r)}),n};function p(e,t,r){return r.concatArrays&&Array.isArray(e)&&Array.isArray(t)?f(e,t,r):n(t)&&n(e)?d(e,t,c(t),r):u(t)}e.exports=function(){const e=p(u(s),this!==a&&this||{},s);let t={foobar:{}};for(let r=0;r<arguments.length;r++){const o=arguments[r];if(void 0!==o){if(!n(o))throw new TypeError("`"+o+"` is not an Option Object");t=p(t,{foobar:o},e)}}return t.foobar}},function(e,t,r){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t;return"[object Object]"===n.call(e)&&(null===(t=Object.getPrototypeOf(e))||t===Object.getPrototypeOf({}))}}]);